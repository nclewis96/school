#
# Makefile for Generating C++ executables
#
# F15 CSCI 232 - Data Structures and Algorithms
# Phillip J. Curtiss, Associate Professor
# Computer Science Department, Montana Tech
# Museum Buildings, Room 105
#
# Project-4: SortedListADT
# Date Assigned: 2015-11-16
# Date Due: 2015-11-30 by Midnight

# Define Macros related to printing and submitting programs
a2ps = a2ps -T 2
mail = mail 
addr = pcurtiss@mtech.edu rmoon@mtech.edu
tar = tar -cvzf

# Define Macros to help generate the program file required
DIA = dia2code
C++ = g++ -std=c++11 
CFLAGS = -Wall -Werror
LD = g++
LDFLAGS = 
LIBS = 
OBJS = ArrayMaxHeap.o ClientDriver.o
EXEC = lab1202

# Provide dependency lists here, one on each line - don't forget to make sure
# if you have source files depending (or generated by) UML diagrams to include them as well
.SUFFIXES: .dia
all: $(EXEC)
${EXEC}: ClientDriver.o 
ClientDriver.o: ClientDriver.cpp HeapInterface.h
ArrayMaxHeap.o: ArrayMaxHeap.cpp ArrayMaxHeap.h HeapInterface.h

################################################################
# Rules Used to Generate executable from object - DO NOT EDIT 
$(EXEC):	$(OBJS)
	$(LD) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)

# Rule to generate object code from cpp source files - DO NOT EDIT
.cpp.o:		
	$(C++) $(CFLAGS) -c $<

# Rule to generate header and source files from Dia UML Diagram - DO NOT EDIT
.dia.h:		
	$(DIA) -t cpp $<

.dia.cpp:	
	$(DIA) -t cpp $<
################################################################

# Rule to Clean up (i.e. delete) all of the object and execuable
# code files to force make to rebuild a clearn executable only 
# from the source files
clean:
	rm -f $(OBJS) $(EXEC)

# Rule to submit programming assignments to graders
# Make sure you modify the $(subj) $(msg) above and the list of attachment
# files in the following rule - each file needs to be preceeded with an
# -a flag as shown
subj = "CSCI232 NLewis - Lab1202, sorry for any confusion"
msg = "Sorry this is late, broke my make file..."
submit: ClientDriver.cpp ArrayMaxHeap.h ArrayMaxHeap.cpp HeapInterface.h
	$(tar) $(USER)-lab1202.tgz $?
	echo $(msg) | $(mail) -s $(subj) -a $(USER)-lab1202.tgz $(addr)

print: ClientDriver.cpp ArrayMaxHeap.h ArrayMaxHeap.cpp HeapInterface.h 
	$(a2ps) $?
